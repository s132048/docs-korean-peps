<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">387</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Backwards Compatibility Policy</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="https://hg.python.org/peps/file/tip/pep-0387.txt">$Date$</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Benjamin Peterson &lt;benjamin&#32;&#97;t&#32;python.org&gt;</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Draft</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Process</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">18-Jun-2009</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body">19-Jun-2009</td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id3">Abstract</a></li>
<li><a class="reference internal" href="#rationale" id="id4">Rationale</a></li>
<li><a class="reference internal" href="#backwards-compatibility-rules" id="id5">Backwards Compatibility Rules</a></li>
<li><a class="reference internal" href="#making-incompatible-changes" id="id6">Making Incompatible Changes</a></li>
<li><a class="reference internal" href="#references" id="id7">References</a></li>
<li><a class="reference internal" href="#copyright" id="id8">Copyright</a></li>
</ul>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id3">Abstract</a></h1>
<p>This PEP outlines Python's backwards compatibility policy.</p>
</div>
<div class="section" id="rationale">
<h1><a class="toc-backref" href="#id4">Rationale</a></h1>
<p>As one of the most used programming languages today <a class="footnote-reference" href="#tiobe" id="id1">[1]</a>, the Python core
language and its standard library play a critical role in thousands of
applications and libraries.  This is fantastic; it is probably one of a language
designer's most wishful dreams.  However, it means the development team must be
very careful not to break this existing 3rd party code with new releases.</p>
</div>
<div class="section" id="backwards-compatibility-rules">
<h1><a class="toc-backref" href="#id5">Backwards Compatibility Rules</a></h1>
<p>This policy applies to all public APIs.  These include:</p>
<ul class="simple">
<li>Syntax and behavior of these constructs as defined by the reference
manual</li>
<li>The C-API</li>
<li>Function, class, module, attribute, and method names and types.</li>
<li>Given a set of arguments, the return value, side effects, and raised
exceptions of a function.  This does not preclude changes from
reasonable bug fixes.</li>
<li>The position and expected types of arguments and returned values.</li>
<li>Behavior of classes with regards to subclasses: the conditions under
which overridden methods are called.</li>
</ul>
<p>Others are explicitly not part of the public API.  They can change or
be removed at any time in any way.  These include:</p>
<ul class="simple">
<li>Function, class, module, attribute, method, and C-API names and types that
are prefixed by &quot;_&quot; (except special names).  The contents of these
are also not subject to the policy.</li>
<li>Inheritance patterns of internal classes.</li>
<li>Test suites.  (Anything in the Lib/test directory or test
subdirectories of packages.)</li>
</ul>
<p>This is the basic policy for backwards compatibility:</p>
<ul class="simple">
<li>Unless it is going through the deprecation process below, the
behavior of an API <em>must</em> not change between any two consecutive
releases.</li>
<li>Similarly a feature cannot be removed without notice between any two
consecutive releases.</li>
<li>Addition of a feature which breaks 3rd party libraries or applications should
have a large benefit to breakage ratio, and/or the incompatibility should be
trival to fix in broken code.  For example, adding an stdlib module
with the same name as a third party package is not acceptable.
Adding a method or attribute that conflicts with 3rd party code
through inheritance, however, is likely reasonable.</li>
</ul>
</div>
<div class="section" id="making-incompatible-changes">
<h1><a class="toc-backref" href="#id6">Making Incompatible Changes</a></h1>
<p>It's a fact: design mistakes happen.  Thus it is important to be able to change
APIs or remove misguided features.  This is accomplished through a gradual
process over several releases:</p>
<ol class="arabic simple">
<li>Discuss the change.  Depending on the size of the incompatibility, this could
be on the bug tracker, python-dev, python-list, or the appropriate SIG.  A
PEP or similar document may be written.  Hopefully users of the affected API
will pipe up to comment.</li>
<li>Add a warning <a class="footnote-reference" href="#warnings" id="id2">[2]</a>.  If behavior is changing, the API may gain a
new function or method to perform the new behavior; old usage should raise
the warning.  If an API is being removed, simply warn whenever it is entered.
DeprecationWarning is the usual warning category to use, but
PendingDeprecationWarning may be used in special cases were the old and new
versions of the API will coexist for many releases.</li>
<li>Wait for a release of whichever branch contains the warning.</li>
<li>See if there's any feedback.  Users not involved in the original discussions
may comment now after seeing the warning.  Perhaps reconsider.</li>
<li>The behavior change or feature removal may now be made default or permanent
in the next release.  Remove the old version and warning.</li>
</ol>
</div>
<div class="section" id="references">
<h1><a class="toc-backref" href="#id7">References</a></h1>
<table class="docutils footnote" frame="void" id="tiobe" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><p class="first">TIOBE Programming Community Index</p>
<p class="last"><a class="reference external" href="http://www.tiobe.com/index.php/content/paperinfo/tpci/index.html">http://www.tiobe.com/index.php/content/paperinfo/tpci/index.html</a></p>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="warnings" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><p class="first">The warnings module</p>
<p class="last"><a class="reference external" href="http://docs.python.org/library/warnings.html">http://docs.python.org/library/warnings.html</a></p>
</td></tr>
</tbody>
</table>
</div>
<div class="section" id="copyright">
<h1><a class="toc-backref" href="#id8">Copyright</a></h1>
<p>This document has been placed in the public domain.</p>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 70
coding: utf-8
End: -->
</div>

